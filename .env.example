# ============================================================================
# Adocavo Environment Configuration
# ============================================================================
# Copy this file to .env.local for local development
#
# SETUP INSTRUCTIONS:
# 1. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# 2. Configure OAuth providers (Google/GitHub) - at least one required
# 3. For local development with Cloudflare, set CLOUDFLARE_* values
# 4. Most settings are for local dev - production uses wrangler.toml + secrets
#
# DOCUMENTATION:
# - See docs/DEPLOYMENT.md for complete deployment guide
# - See wrangler.toml.example for production configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Authentication (Auth.js / NextAuth v5)
# ----------------------------------------------------------------------------
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=replace-with-openssl-rand-base64-32-output

# ----------------------------------------------------------------------------
# OAuth Providers (REQUIRED - at least one provider for production)
#
# Google OAuth Setup:
# 1. Go to https://console.cloud.google.com/apis/credentials
# 2. Create OAuth 2.0 credentials
# 3. Add authorized redirect URI: https://adocavo.net/api/auth/callback/google
# 4. Copy Client ID and Secret below
# ----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth Setup:
# 1. Go to https://github.com/settings/developers
# 2. Create new OAuth App
# 3. Set Authorization callback URL: https://adocavo.net/api/auth/callback/github
# 4. Copy Client ID and Secret below
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# Cloudflare Configuration (for local development / Drizzle Kit)
#
# Get account IDs from: https://dash.cloudflare.com -> Workers & Pages -> Overview
# Get API token from: https://dash.cloudflare.com -> My Profile -> API Tokens
# Required for:
# - Local development with remote D1
# - Drizzle Kit migrations
# - Wrangler CLI operations
# ----------------------------------------------------------------------------
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_D1_DATABASE_ID=

# ----------------------------------------------------------------------------
# KV Namespace IDs (for wrangler.toml configuration)
#
# Get from: wrangler kv namespace list
# Or create new: wrangler kv namespace create NEXT_INC_CACHE_KV
#
# Required for production:
# - NEXT_INC_CACHE_KV: Next.js incremental cache
# - NEXT_TAG_CACHE_KV: Next.js tag-based cache
# - CACHE_KV: Application-level caching (hooks, ratings, favorites)
# ----------------------------------------------------------------------------
NEXT_INC_CACHE_KV_ID=
NEXT_INC_CACHE_KV_PREVIEW_ID=
NEXT_TAG_CACHE_KV_ID=
NEXT_TAG_CACHE_KV_PREVIEW_ID=

# ----------------------------------------------------------------------------
# Analytics (Optional)
# Google Analytics ID for tracking
# ----------------------------------------------------------------------------
NEXT_PUBLIC_GA_ID=

# ----------------------------------------------------------------------------
# SEO (Optional)
# Google Site Verification token for Search Console
# Get from: https://search.google.com/search-console
# ----------------------------------------------------------------------------
NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=

# ----------------------------------------------------------------------------
# Public Site Configuration
#
# These variables are exposed to the browser (NEXT_PUBLIC_* prefix)
# Update for production deployment in wrangler.toml [vars] section
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_IMAGE_LOADER=cloudflare
NEXT_PUBLIC_TURNSTILE_SITE_KEY=0x4AAAAAACGnBBFNVERZrUsh

# ----------------------------------------------------------------------------
# Cloudflare Turnstile (Captcha)
# ----------------------------------------------------------------------------
TURNSTILE_SECRET_KEY=0x4AAAAAACGnBMhwnJ2Fd8Uat5dmWB7lW7Y

# ----------------------------------------------------------------------------
# Workers AI Configuration
#
# AI_MODEL_SIZE: Model size for Workers AI (8b, 7b, etc.)
# AI_STREAMING: Enable streaming responses (true/false)
# AI_TRANSCRIBE: Enable audio transcription (true/false)
# AI_TRANSCRIBE_MODEL: Whisper model for transcription
# AI_TRANSCRIBE_MAX_BYTES: Max audio size for transcription (12MB)
# ----------------------------------------------------------------------------
AI_MODEL_SIZE=8b
AI_STREAMING=false
AI_TRANSCRIBE=false
AI_TRANSCRIBE_MODEL=@cf/openai/whisper-large-v3-turbo
AI_TRANSCRIBE_MAX_BYTES=12000000

# ----------------------------------------------------------------------------
# Observability & Logging (Optional - for production monitoring)
#
# Log Drain Providers: generic, axiom, betterstack, datadog, logflare
# LOG_LEVEL: debug, info, warn, error (default: info)
# LOG_DRAIN_URL: Endpoint URL for log drain service
# LOG_DRAIN_TOKEN: Authentication token for log drain service
# ALERT_WEBHOOK_URL: Webhook URL for alert notifications
#
# Setup: wrangler secret put <SECRET_NAME>
# ----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_DRAIN_PROVIDER=generic
LOG_DRAIN_URL=
LOG_DRAIN_TOKEN=
ALERT_WEBHOOK_URL=

# ----------------------------------------------------------------------------
# Rate Limiting (Optional - override defaults)
#
# Override default rate limits set in src/lib/rate-limit.ts
# Format: RATE_LIMIT_<ENDPOINT>_REQUESTS=<count>
#         RATE_LIMIT_<ENDPOINT>_WINDOW=<seconds>
#
# Endpoints: generate, waitlist, hooks, fakedoor, favorites, ratings, analyze, admin
# ----------------------------------------------------------------------------
# RATE_LIMIT_GENERATE_REQUESTS=10
# RATE_LIMIT_GENERATE_WINDOW=60
# RATE_LIMIT_GENERATE_GUEST_REQUESTS=3
# RATE_LIMIT_GENERATE_GUEST_WINDOW=86400
# RATE_LIMIT_WAITLIST_REQUESTS=3
# RATE_LIMIT_WAITLIST_WINDOW=300
# RATE_LIMIT_HOOKS_REQUESTS=100
# RATE_LIMIT_HOOKS_WINDOW=60
# RATE_LIMIT_FAKEDOOR_REQUESTS=20
# RATE_LIMIT_FAKEDOOR_WINDOW=60
# RATE_LIMIT_FAVORITES_REQUESTS=30
# RATE_LIMIT_FAVORITES_WINDOW=60
# RATE_LIMIT_RATINGS_REQUESTS=20
# RATE_LIMIT_RATINGS_WINDOW=60
# RATE_LIMIT_ANALYZE_REQUESTS=8
# RATE_LIMIT_ANALYZE_WINDOW=3600
# RATE_LIMIT_ADMIN_REQUESTS=10
# RATE_LIMIT_ADMIN_WINDOW=60

# ============================================================================
# ENVIRONMENT SETUP
# ============================================================================
#
# LOCAL DEVELOPMENT:
# 1. Copy this file: cp .env.example .env.local
# 2. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# 3. Set NEXTAUTH_SECRET at minimum
# 4. Configure at least one OAuth provider (Google or GitHub)
# 5. Set CLOUDFLARE_* values if testing with remote D1
# 6. Run: npm run dev
#
# PRODUCTION DEPLOYMENT:
# 1. Setup Cloudflare resources (KV namespaces, D1 databases, R2 buckets)
# 2. Update wrangler.toml with resource IDs
# 3. Set secrets via: wrangler secret put <SECRET_NAME>
#    - NEXTAUTH_SECRET (32+ char random string)
#    - GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET (if using Google OAuth)
#    - GITHUB_CLIENT_ID, GITHUB_CLIENT_SECRET (if using GitHub OAuth)
#    - LOG_DRAIN_TOKEN (optional, for external logging)
# 4. Run migrations: wrangler d1 migrations apply adocavo-db --remote
# 5. Deploy: npm run deploy
#
# PRODUCTION SECRETS (REQUIRED):
# - NEXTAUTH_SECRET (32+ char random string)
# - At least one OAuth provider:
#   - GOOGLE_CLIENT_ID + GOOGLE_CLIENT_SECRET
#   OR
#   - GITHUB_CLIENT_ID + GITHUB_CLIENT_SECRET
#
# AUTOMATED SETUP:
# Use interactive script for secrets: npm run setup:secrets
# Validate environment: npm run validate:env
#
# See docs/DEPLOYMENT.md for comprehensive deployment guide
# ============================================================================
